{"ast":null,"code":"import { baseURL } from \"../constants/constants\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport axios from \"axios\"; //import swal from \"sweetalert\";\n//import { tokenConfig } from \"./AuthActions\";\n// action types\n\nexport const SIGNUP_REQUEST = \"SIGNUP_REQUEST\";\nexport const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\nexport const SIGNUP_FAILURE = \"SIGNUP_FAILURE\";\nexport const SET_IS_AUTH = \"SET_IS_AUTH\"; // action creators\n\nexport const signupRequest = () => {\n  return {\n    type: SIGNUP_REQUEST\n  };\n};\nexport const signupSuccess = signupData => {\n  return {\n    type: SIGNUP_SUCCESS,\n    payload: signupData\n  };\n};\nexport const signupFailure = errMsg => {\n  return {\n    type: SIGNUP_FAILURE,\n    payload: errMsg\n  };\n};\nexport const setIsAuth = () => {\n  return {\n    type: SET_IS_AUTH\n  };\n}; // async impure action creator enabled by redux-thunk\n\nexport const signup = signupData => {\n  return dispatch => {\n    dispatch(signupRequest());\n    axios({\n      method: \"post\",\n      url: \"/register\",\n      baseURL: baseURL,\n      data: {\n        name: signupData.name,\n        email: signupData.email,\n        password: signupData.password\n      } //headers: {\n      // \"auth-token\": AsyncStorage.getItem(\"token\"),\n      //},\n\n    }).then(res => {\n      if (res.data.value) {\n        dispatch(signupSuccess(signupData));\n      } else {\n        dispatch(signupFailure(res.data.message));\n      }\n    }).catch(err => {\n      dispatch(signupFailure(err.response.data.message));\n    });\n  };\n};\nexport const setisauth = () => {\n  return dispatch => {\n    dispatch(setIsAuth());\n  };\n};","map":{"version":3,"sources":["/Users/mactouda/stage2A/SiteFormation/src/Actions/signupActions.js"],"names":["baseURL","AsyncStorage","axios","SIGNUP_REQUEST","SIGNUP_SUCCESS","SIGNUP_FAILURE","SET_IS_AUTH","signupRequest","type","signupSuccess","signupData","payload","signupFailure","errMsg","setIsAuth","signup","dispatch","method","url","data","name","email","password","then","res","value","message","catch","err","response","setisauth"],"mappings":"AAAA,SAASA,OAAT,QAAwB,wBAAxB;AACA,OAAOC,YAAP,MAAyB,uCAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;AACA;AACA;;AACA,OAAO,MAAMC,cAAc,GAAG,gBAAvB;AACP,OAAO,MAAMC,cAAc,GAAG,gBAAvB;AACP,OAAO,MAAMC,cAAc,GAAG,gBAAvB;AACP,OAAO,MAAMC,WAAW,GAAG,aAApB,C,CAGP;;AACA,OAAO,MAAMC,aAAa,GAAG,MAAM;AACjC,SAAO;AACLC,IAAAA,IAAI,EAAEL;AADD,GAAP;AAGD,CAJM;AAKP,OAAO,MAAMM,aAAa,GAAIC,UAAD,IAAgB;AAC3C,SAAO;AACLF,IAAAA,IAAI,EAAEJ,cADD;AAELO,IAAAA,OAAO,EAAED;AAFJ,GAAP;AAID,CALM;AAMP,OAAO,MAAME,aAAa,GAAIC,MAAD,IAAY;AACvC,SAAO;AACLL,IAAAA,IAAI,EAAEH,cADD;AAELM,IAAAA,OAAO,EAAEE;AAFJ,GAAP;AAID,CALM;AAMP,OAAO,MAAMC,SAAS,GAAG,MAAM;AAC7B,SAAO;AACLN,IAAAA,IAAI,EAAEF;AADD,GAAP;AAID,CALM,C,CAOP;;AACA,OAAO,MAAMS,MAAM,GAAIL,UAAD,IAAgB;AACpC,SAAQM,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACT,aAAa,EAAd,CAAR;AAEAL,IAAAA,KAAK,CAAC;AACJe,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,GAAG,EAAE,WAFD;AAGJlB,MAAAA,OAAO,EAAEA,OAHL;AAIJmB,MAAAA,IAAI,EAAE;AACJC,QAAAA,IAAI,EAAEV,UAAU,CAACU,IADb;AAEJC,QAAAA,KAAK,EAAEX,UAAU,CAACW,KAFd;AAGJC,QAAAA,QAAQ,EAAEZ,UAAU,CAACY;AAHjB,OAJF,CAUJ;AACA;AACA;;AAZI,KAAD,CAAL,CAcGC,IAdH,CAcSC,GAAD,IAAS;AACb,UAAIA,GAAG,CAACL,IAAJ,CAASM,KAAb,EAAoB;AAClBT,QAAAA,QAAQ,CAACP,aAAa,CAACC,UAAD,CAAd,CAAR;AACD,OAFD,MAEO;AAELM,QAAAA,QAAQ,CAACJ,aAAa,CAACY,GAAG,CAACL,IAAJ,CAASO,OAAV,CAAd,CAAR;AACD;AACF,KArBH,EAsBGC,KAtBH,CAsBUC,GAAD,IAAS;AAEdZ,MAAAA,QAAQ,CAACJ,aAAa,CAACgB,GAAG,CAACC,QAAJ,CAAaV,IAAb,CAAkBO,OAAnB,CAAd,CAAR;AACD,KAzBH;AA0BD,GA7BD;AA8BD,CA/BM;AAiCP,OAAO,MAAMI,SAAS,GAAG,MAAM;AAC7B,SAAQd,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACF,SAAS,EAAV,CAAR;AACD,GAFD;AAGD,CAJM","sourcesContent":["import { baseURL } from \"../constants/constants\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport axios from \"axios\";\n//import swal from \"sweetalert\";\n//import { tokenConfig } from \"./AuthActions\";\n// action types\nexport const SIGNUP_REQUEST = \"SIGNUP_REQUEST\";\nexport const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\nexport const SIGNUP_FAILURE = \"SIGNUP_FAILURE\";\nexport const SET_IS_AUTH = \"SET_IS_AUTH\";\n\n\n// action creators\nexport const signupRequest = () => {\n  return {\n    type: SIGNUP_REQUEST,\n  };\n};\nexport const signupSuccess = (signupData) => {\n  return {\n    type: SIGNUP_SUCCESS,\n    payload: signupData,\n  };\n};\nexport const signupFailure = (errMsg) => {\n  return {\n    type: SIGNUP_FAILURE,\n    payload: errMsg,\n  };\n};\nexport const setIsAuth = () => {\n  return {\n    type: SET_IS_AUTH,\n\n  };\n};\n\n// async impure action creator enabled by redux-thunk\nexport const signup = (signupData) => {\n  return (dispatch) => {\n    dispatch(signupRequest());\n\n    axios({\n      method: \"post\",\n      url: \"/register\",\n      baseURL: baseURL,\n      data: {\n        name: signupData.name,\n        email: signupData.email,\n        password: signupData.password,\n      },\n\n      //headers: {\n      // \"auth-token\": AsyncStorage.getItem(\"token\"),\n      //},\n    })\n      .then((res) => {\n        if (res.data.value) {\n          dispatch(signupSuccess(signupData));\n        } else {\n\n          dispatch(signupFailure(res.data.message));\n        }\n      })\n      .catch((err) => {\n\n        dispatch(signupFailure(err.response.data.message));\n      });\n  };\n};\n\nexport const setisauth = () => {\n  return (dispatch) => {\n    dispatch(setIsAuth());\n  };\n};"]},"metadata":{},"sourceType":"module"}