{"ast":null,"code":"// import {Alert} from 'react-native';\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport { LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAILURE, SET_AUTH_TOKEN, SET_CURRENT_USER, LOGOUT_USER, SET_VALUE_AUTH, SET_IS_AUTH, SET_IS_ADMIN } from \"../Actions/loginActions\"; // init state for login\n\nconst initState = {\n  isLoading: false,\n  isAuth: false,\n  loginData: {},\n  errMsg: \"\",\n  userId: \"\",\n  valueAuth: 0,\n  admin: false\n};\n\nconst loginReducer = (state = initState, action) => {\n  switch (action.type) {\n    case LOGIN_REQUEST:\n      return { ...state,\n        isLoading: true\n      };\n\n    case LOGIN_SUCCESS:\n      return {\n        isAuth: true,\n        isLoading: false,\n        loginData: action.payload,\n        errMsg: \"\",\n        userId: action.payload.id,\n        admin: action.payload.id\n      };\n\n    case LOGIN_FAILURE:\n      AsyncStorage.removeItem(\"token\");\n      return {\n        isLoading: false,\n        isAuth: false,\n        loginData: {},\n        errMsg: action.payload\n      };\n\n    case SET_CURRENT_USER:\n      return { ...state,\n        userDetails: action.payload,\n        isAuth: true\n      };\n\n    case SET_VALUE_AUTH:\n      return { ...state,\n        valueAuth: action.payload\n      };\n\n    case SET_IS_AUTH:\n      return { ...state,\n        isAuth: false\n      };\n\n    case SET_IS_ADMIN:\n      return { ...state,\n        admin: false\n      };\n\n    case LOGOUT_USER:\n      return { ...state,\n        isAuth: false\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default loginReducer;","map":{"version":3,"sources":["/Users/mactouda/stage2A/SiteFormation/src/Reducers/loginReducer.js"],"names":["AsyncStorage","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","SET_AUTH_TOKEN","SET_CURRENT_USER","LOGOUT_USER","SET_VALUE_AUTH","SET_IS_AUTH","SET_IS_ADMIN","initState","isLoading","isAuth","loginData","errMsg","userId","valueAuth","admin","loginReducer","state","action","type","payload","id","removeItem","userDetails"],"mappings":"AAAA;AACA,OAAOA,YAAP,MAAyB,uCAAzB;AACA,SACEC,aADF,EAEEC,aAFF,EAGEC,aAHF,EAIEC,cAJF,EAKEC,gBALF,EAMEC,WANF,EAOEC,cAPF,EAQEC,WARF,EASEC,YATF,QAUO,yBAVP,C,CAYA;;AACA,MAAMC,SAAS,GAAG;AAChBC,EAAAA,SAAS,EAAE,KADK;AAEhBC,EAAAA,MAAM,EAAE,KAFQ;AAGhBC,EAAAA,SAAS,EAAE,EAHK;AAIhBC,EAAAA,MAAM,EAAE,EAJQ;AAKhBC,EAAAA,MAAM,EAAE,EALQ;AAMhBC,EAAAA,SAAS,EAAE,CANK;AAOhBC,EAAAA,KAAK,EAAE;AAPS,CAAlB;;AAUA,MAAMC,YAAY,GAAG,CAACC,KAAK,GAAGT,SAAT,EAAoBU,MAApB,KAA+B;AAClD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKpB,aAAL;AACE,aAAO,EACL,GAAGkB,KADE;AAELR,QAAAA,SAAS,EAAE;AAFN,OAAP;;AAIF,SAAKT,aAAL;AAGE,aAAO;AACLU,QAAAA,MAAM,EAAE,IADH;AAELD,QAAAA,SAAS,EAAE,KAFN;AAGLE,QAAAA,SAAS,EAAEO,MAAM,CAACE,OAHb;AAILR,QAAAA,MAAM,EAAE,EAJH;AAKLC,QAAAA,MAAM,EAAEK,MAAM,CAACE,OAAP,CAAeC,EALlB;AAMLN,QAAAA,KAAK,EAAEG,MAAM,CAACE,OAAP,CAAeC;AANjB,OAAP;;AAQF,SAAKpB,aAAL;AACEH,MAAAA,YAAY,CAACwB,UAAb,CAAwB,OAAxB;AACA,aAAO;AACLb,QAAAA,SAAS,EAAE,KADN;AAELC,QAAAA,MAAM,EAAE,KAFH;AAGLC,QAAAA,SAAS,EAAE,EAHN;AAILC,QAAAA,MAAM,EAAEM,MAAM,CAACE;AAJV,OAAP;;AAMF,SAAKjB,gBAAL;AACE,aAAO,EACL,GAAGc,KADE;AAELM,QAAAA,WAAW,EAAEL,MAAM,CAACE,OAFf;AAGLV,QAAAA,MAAM,EAAE;AAHH,OAAP;;AAKF,SAAKL,cAAL;AACE,aAAO,EACL,GAAGY,KADE;AAELH,QAAAA,SAAS,EAAEI,MAAM,CAACE;AAFb,OAAP;;AAIF,SAAKd,WAAL;AACE,aAAO,EACL,GAAGW,KADE;AAELP,QAAAA,MAAM,EAAE;AAFH,OAAP;;AAIF,SAAKH,YAAL;AACE,aAAO,EACL,GAAGU,KADE;AAELF,QAAAA,KAAK,EAAE;AAFF,OAAP;;AAIF,SAAKX,WAAL;AACE,aAAO,EACL,GAAGa,KADE;AAELP,QAAAA,MAAM,EAAE;AAFH,OAAP;;AAIF;AACE,aAAOO,KAAP;AApDJ;AAsDD,CAvDD;;AAyDA,eAAeD,YAAf","sourcesContent":["// import {Alert} from 'react-native';\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport {\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  LOGIN_FAILURE,\n  SET_AUTH_TOKEN,\n  SET_CURRENT_USER,\n  LOGOUT_USER,\n  SET_VALUE_AUTH,\n  SET_IS_AUTH,\n  SET_IS_ADMIN,\n} from \"../Actions/loginActions\";\n\n// init state for login\nconst initState = {\n  isLoading: false,\n  isAuth: false,\n  loginData: {},\n  errMsg: \"\",\n  userId: \"\",\n  valueAuth: 0,\n  admin: false,\n};\n\nconst loginReducer = (state = initState, action) => {\n  switch (action.type) {\n    case LOGIN_REQUEST:\n      return {\n        ...state,\n        isLoading: true,\n      };\n    case LOGIN_SUCCESS:\n\n\n      return {\n        isAuth: true,\n        isLoading: false,\n        loginData: action.payload,\n        errMsg: \"\",\n        userId: action.payload.id,\n        admin: action.payload.id,\n      };\n    case LOGIN_FAILURE:\n      AsyncStorage.removeItem(\"token\");\n      return {\n        isLoading: false,\n        isAuth: false,\n        loginData: {},\n        errMsg: action.payload,\n      };\n    case SET_CURRENT_USER:\n      return {\n        ...state,\n        userDetails: action.payload,\n        isAuth: true,\n      };\n    case SET_VALUE_AUTH:\n      return {\n        ...state,\n        valueAuth: action.payload,\n      };\n    case SET_IS_AUTH:\n      return {\n        ...state,\n        isAuth: false,\n      };\n    case SET_IS_ADMIN:\n      return {\n        ...state,\n        admin: false,\n      };\n    case LOGOUT_USER:\n      return {\n        ...state,\n        isAuth: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default loginReducer;"]},"metadata":{},"sourceType":"module"}