{"ast":null,"code":"// import {Alert} from 'react-native';\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport { LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAILURE, SET_AUTH_TOKEN, SET_CURRENT_USER, LOGOUT_USER, SET_VALUE_AUTH, SET_IS_AUTH, SET_IS_ADMIN, SET_LIST_VALUE } from \"../Actions/loginActions\"; // init state for login\n\nconst initState = {\n  isLoading: false,\n  isAuth: false,\n  loginData: {},\n  errMsg: \"\",\n  userId: \"\",\n  valueAuth: 0,\n  admin: false,\n  listvalue: 0\n};\n\nconst loginReducer = (state = initState, action) => {\n  switch (action.type) {\n    case LOGIN_REQUEST:\n      return { ...state,\n        isLoading: true\n      };\n\n    case LOGIN_SUCCESS:\n      return {\n        isAuth: true,\n        isLoading: false,\n        loginData: action.payload,\n        errMsg: \"\",\n        userId: action.payload.id,\n        admin: action.payload.admin\n      };\n\n    case LOGIN_FAILURE:\n      AsyncStorage.removeItem(\"token\");\n      return {\n        isLoading: false,\n        isAuth: false,\n        loginData: {},\n        errMsg: action.payload\n      };\n\n    case SET_CURRENT_USER:\n      return { ...state,\n        userDetails: action.payload,\n        isAuth: true\n      };\n\n    case SET_VALUE_AUTH:\n      return { ...state,\n        valueAuth: action.payload\n      };\n\n    case SET_IS_AUTH:\n      return { ...state,\n        isAuth: false\n      };\n\n    case SET_LIST_VALUE:\n      return { ...state,\n        listvalue: action.payload\n      };\n\n    case SET_IS_ADMIN:\n      return { ...state,\n        admin: false\n      };\n\n    case LOGOUT_USER:\n      return { ...state,\n        isAuth: false\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default loginReducer;","map":{"version":3,"sources":["/Users/mactouda/stage2A/SiteFormation/src/Reducers/loginReducer.js"],"names":["AsyncStorage","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","SET_AUTH_TOKEN","SET_CURRENT_USER","LOGOUT_USER","SET_VALUE_AUTH","SET_IS_AUTH","SET_IS_ADMIN","SET_LIST_VALUE","initState","isLoading","isAuth","loginData","errMsg","userId","valueAuth","admin","listvalue","loginReducer","state","action","type","payload","id","removeItem","userDetails"],"mappings":"AAAA;AACA,OAAOA,YAAP,MAAyB,uCAAzB;AACA,SACEC,aADF,EAEEC,aAFF,EAGEC,aAHF,EAIEC,cAJF,EAKEC,gBALF,EAMEC,WANF,EAOEC,cAPF,EAQEC,WARF,EASEC,YATF,EAUEC,cAVF,QAWO,yBAXP,C,CAaA;;AACA,MAAMC,SAAS,GAAG;AAChBC,EAAAA,SAAS,EAAE,KADK;AAEhBC,EAAAA,MAAM,EAAE,KAFQ;AAGhBC,EAAAA,SAAS,EAAE,EAHK;AAIhBC,EAAAA,MAAM,EAAE,EAJQ;AAKhBC,EAAAA,MAAM,EAAE,EALQ;AAMhBC,EAAAA,SAAS,EAAE,CANK;AAOhBC,EAAAA,KAAK,EAAE,KAPS;AAQhBC,EAAAA,SAAS,EAAC;AARM,CAAlB;;AAWA,MAAMC,YAAY,GAAG,CAACC,KAAK,GAAGV,SAAT,EAAoBW,MAApB,KAA+B;AAClD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKtB,aAAL;AACE,aAAO,EACL,GAAGoB,KADE;AAELT,QAAAA,SAAS,EAAE;AAFN,OAAP;;AAIF,SAAKV,aAAL;AAGE,aAAO;AACLW,QAAAA,MAAM,EAAE,IADH;AAELD,QAAAA,SAAS,EAAE,KAFN;AAGLE,QAAAA,SAAS,EAAEQ,MAAM,CAACE,OAHb;AAILT,QAAAA,MAAM,EAAE,EAJH;AAKLC,QAAAA,MAAM,EAAEM,MAAM,CAACE,OAAP,CAAeC,EALlB;AAMLP,QAAAA,KAAK,EAAEI,MAAM,CAACE,OAAP,CAAeN;AANjB,OAAP;;AAQF,SAAKf,aAAL;AACEH,MAAAA,YAAY,CAAC0B,UAAb,CAAwB,OAAxB;AACA,aAAO;AACLd,QAAAA,SAAS,EAAE,KADN;AAELC,QAAAA,MAAM,EAAE,KAFH;AAGLC,QAAAA,SAAS,EAAE,EAHN;AAILC,QAAAA,MAAM,EAAEO,MAAM,CAACE;AAJV,OAAP;;AAMF,SAAKnB,gBAAL;AACE,aAAO,EACL,GAAGgB,KADE;AAELM,QAAAA,WAAW,EAAEL,MAAM,CAACE,OAFf;AAGLX,QAAAA,MAAM,EAAE;AAHH,OAAP;;AAKF,SAAKN,cAAL;AACE,aAAO,EACL,GAAGc,KADE;AAELJ,QAAAA,SAAS,EAAEK,MAAM,CAACE;AAFb,OAAP;;AAIF,SAAKhB,WAAL;AACE,aAAO,EACL,GAAGa,KADE;AAELR,QAAAA,MAAM,EAAE;AAFH,OAAP;;AAIA,SAAKH,cAAL;AACE,aAAO,EACL,GAAGW,KADE;AAELF,QAAAA,SAAS,EAACG,MAAM,CAACE;AAFZ,OAAP;;AAIJ,SAAKf,YAAL;AACE,aAAO,EACL,GAAGY,KADE;AAELH,QAAAA,KAAK,EAAE;AAFF,OAAP;;AAIF,SAAKZ,WAAL;AACE,aAAO,EACL,GAAGe,KADE;AAELR,QAAAA,MAAM,EAAE;AAFH,OAAP;;AAIF;AACE,aAAOQ,KAAP;AAzDJ;AA2DD,CA5DD;;AA8DA,eAAeD,YAAf","sourcesContent":["// import {Alert} from 'react-native';\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport {\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  LOGIN_FAILURE,\n  SET_AUTH_TOKEN,\n  SET_CURRENT_USER,\n  LOGOUT_USER,\n  SET_VALUE_AUTH,\n  SET_IS_AUTH,\n  SET_IS_ADMIN,\n  SET_LIST_VALUE,\n} from \"../Actions/loginActions\";\n\n// init state for login\nconst initState = {\n  isLoading: false,\n  isAuth: false,\n  loginData: {},\n  errMsg: \"\",\n  userId: \"\",\n  valueAuth: 0,\n  admin: false,\n  listvalue:0,\n};\n\nconst loginReducer = (state = initState, action) => {\n  switch (action.type) {\n    case LOGIN_REQUEST:\n      return {\n        ...state,\n        isLoading: true,\n      };\n    case LOGIN_SUCCESS:\n\n\n      return {\n        isAuth: true,\n        isLoading: false,\n        loginData: action.payload,\n        errMsg: \"\",\n        userId: action.payload.id,\n        admin: action.payload.admin,\n      };\n    case LOGIN_FAILURE:\n      AsyncStorage.removeItem(\"token\");\n      return {\n        isLoading: false,\n        isAuth: false,\n        loginData: {},\n        errMsg: action.payload,\n      };\n    case SET_CURRENT_USER:\n      return {\n        ...state,\n        userDetails: action.payload,\n        isAuth: true,\n      };\n    case SET_VALUE_AUTH:\n      return {\n        ...state,\n        valueAuth: action.payload,\n      };\n    case SET_IS_AUTH:\n      return {\n        ...state,\n        isAuth: false,\n      };\n      case SET_LIST_VALUE:\n        return {\n          ...state,\n          listvalue:action.payload,\n        };  \n    case SET_IS_ADMIN:\n      return {\n        ...state,\n        admin: false,\n      };\n    case LOGOUT_USER:\n      return {\n        ...state,\n        isAuth: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default loginReducer;"]},"metadata":{},"sourceType":"module"}